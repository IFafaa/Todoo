<app-default-modal title="Alterar e-mail">
  <div class="modal--content">
    <form [formGroup]="form">
      <div class="modal--content--body__field">
        <mat-form-field class="example-full-width">
          <mat-label>Seu e-mail</mat-label>
          <input
          type="email"
          matInput
          placeholder="E-mail"
          formControlName="email"
          readonly/>

        </mat-form-field>
      </div>
      <div class="modal--content--body__field">
        <mat-form-field class="example-full-width">
          <mat-label>Seu novo e-mail</mat-label>
          <input
          type="email"
          matInput
          placeholder="E-mail"
          formControlName="newEmail"
          (change)="validateExistingEmail(form.get('newEmail')?.value)"/>
          <mat-error *ngIf="form.get('newEmail')?.hasError('required')">*Por favor preencha este campo</mat-error>
          <mat-error *ngIf="form.get('newEmail')?.hasError('email')">*Por favor digite um e-mail válido</mat-error>
          <mat-error *ngIf="form.get('newEmail')?.hasError('existingEmail')">*Este e-mail já foi cadastrado</mat-error>
        </mat-form-field>
      </div>
    </form >
  </div>
  <div class="modal--footer">
      <default-button type="cancel" value="Fechar" (click)="closeModal()"></default-button>
      <default-button type="primary" value="Salvar" (click)="sendForm()"></default-button>
  </div>
</app-default-modal>

